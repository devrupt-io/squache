# Squache Configuration
# Copy this file to squache.env and customize your settings:
#   cp squache.env.example squache.env
#
# Then start the services:
#   docker compose up -d

# =============================================================================
# PostgreSQL Database
# =============================================================================
POSTGRES_USER=squache
POSTGRES_PASSWORD=squache_password
POSTGRES_DB=squache

# Connection URL (must match the values above)
DATABASE_URL=postgres://squache:squache_password@postgres:5432/squache

# =============================================================================
# Backend API Server
# =============================================================================
NODE_ENV=production

# JWT Authentication
# Generate a secure secret: openssl rand -hex 32
JWT_SECRET=change-this-in-production-use-a-random-string
JWT_EXPIRES_IN=7d

# =============================================================================
# URLs and CORS
# =============================================================================
# For local development, use localhost
# For remote access, change to your server's IP or domain

BACKEND_URL=http://localhost:3010
FRONTEND_URL=http://localhost:3011
CORS_ORIGIN=http://localhost:3011

# =============================================================================
# Admin Credentials
# =============================================================================
# The admin account is created on first run
# If ADMIN_PASS is empty, a random password will be generated
# Check logs for the generated password: docker compose logs backend | grep -A5 "SQUACHE ADMIN"

ADMIN_EMAIL=admin@squache.local
ADMIN_PASS=

# =============================================================================
# Frontend
# =============================================================================
# Public API URL (accessible from browser)
NEXT_PUBLIC_API_URL=http://localhost:3010
NEXT_PUBLIC_SITE_URL=http://localhost:3011

# Internal API URL (for SSR in Docker) - usually doesn't need changing
API_URL_INTERNAL=http://backend:3010

# =============================================================================
# Squid Proxy Configuration (Advanced)
# =============================================================================
# These paths are inside the container - usually don't need changing
SQUID_LOG_PATH=/var/log/squid/access.log
SQUID_CACHE_DIR=/var/spool/squid
SSL_CERT_PATH=/etc/squid/ssl/squid-ca.crt

# Upstream Proxies (optional, JSON array)
# Example: [{"name": "vpn-us", "type": "vpn", "host": "proxy.example.com", "port": 1080}]
UPSTREAM_PROXIES=[]
